# HTTP Live Streaming(HLS) の採用

## 理由

まず動画を配信するにあたってストリーミング配信を行いたいと考えました。ストリーミング配信を行うことによりすべての動画をダウンロードすることなく視聴でき、後にライブコーディングなど、ライブ配信の機能を追加する可能性があるためリアルタイムで配信ができるストリーミング配信が最適と考えました。  
次にストリーミング配信にあたり RTMP プロトコルも選択肢としてありますが RTMP を使うに当たり別途配信用のサーバーを用意しなければなりません。HLS は http をベースとして開発されていますので別途サーバーを用意する必要がなく動画を配置するサーバーだけ用意すればストリーミング配信を行うことができます。  
以上のことにより開発の手間を考えて HLS を採用しました。

## 実装した機能

- アップロード機能

  - HLS で配信できるように akane-convert で FFmpeg を用いて mp4->m3u8+ts 形式に変換しています。
  - 現状は mp4 ファイルのアップロードしか対応してません
  - HLS では視聴する動画の画質も変更することが可能ですが複数の画質の動画を用意する必要があり保存する容量が増えるので無料枠で開発することが難しいので今回は一画質だけで保存してます。

-
